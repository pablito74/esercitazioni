"use strict";(self.webpackChunkeserzizio=self.webpackChunkeserzizio||[]).push([[342],{342:(_,p,r)=>{r.r(p),r.d(p,{ProfileModule:()=>y});var c=r(324),a=r(628),e=r(892),f=r(159),u=r(941);let h=(()=>{class t{constructor(o){this.httpClient=o,this.cacheHeaders=(new u.WM).set("Content","no-cache, no-store, must-revalidate, post-check=0, pre-check=0").set("Pragma","no-cache").set("Expires","0")}getNote(o){return this.httpClient.get("https://ugobetori.it/_notes/api-test/angular/angular2_NEW/select_profile.php?id="+o,{headers:this.cacheHeaders})}aggiungiNote(o){return console.log("mia data"+o),this.httpClient.put("https://ugobetori.it/_notes/api-test/angular/angular2_NEW/manage_profile.php",o)}sendData(o,n){return this.httpClient.put(o,n)}cancellaNote(o){return this.httpClient.delete("https://ugobetori.it/_notes/api-test/angular/angular2_NEW/manage_profile.php",{body:{id_note:o}})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(u.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var s=r(279);function C(t,i){if(1&t&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.logged.name," ")}}function N(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"li"),e._uU(1),e.TgZ(2,"button",7),e.NdJ("click",function(){const g=e.CHM(o).$implicit;return e.oxw().cancellaNota(g.id_note)}),e._uU(3,"Cancella Nota"),e.qZA(),e._UZ(4,"br"),e.qZA()}if(2&t){const o=i.$implicit;e.xp6(1),e.hij("",o.note," ")}}let d=(()=>{class t{constructor(o,n,l){this.myGlobalService=o,this.profileService=n,this.myActRoute=l,this.logged=null,this.note=null,this.id_user=null}ngOnInit(){this.logged=this.myGlobalService.getLoggingResponse(),console.log("utente logged"+this.logged),this.getNote()}getNote(){console.log("stampo id utente"+this.logged.id),this.profileService.getNote(this.logged.id).subscribe(o=>{this.listaNote=o,console.log(this.listaNote)},o=>console.log("Error: "+o),()=>console.log("Completed"))}aggiungiNota(){console.log("dentro aggiungi nota");let n=JSON.stringify({id_user:this.logged.id,note:this.note});console.log("stampo dati string:"+n),this.profileService.aggiungiNote(n).subscribe(l=>{console.log("aggiungi note: "+l.result)},l=>console.log("onError: "+JSON.stringify(l)),()=>console.log("addNote() Completed")),this.getNote()}cancellaNota(o){console.log("dentro cancellaNota"+o),this.profileService.cancellaNote(o).subscribe(n=>{console.log(n)},n=>console.log("onError: "+JSON.stringify(n)),()=>console.log(" Completed")),this.getNote()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(f.a),e.Y36(h),e.Y36(a.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-component-profile"]],decls:10,vars:4,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngSubmit"],["myForm","ngForm"],["type","text","name","note","required","",3,"ngModel","ngModelChange"],["myNome","ngModel"],["type","submit",3,"disabled"],[3,"click"]],template:function(o,n){if(1&o&&(e.TgZ(0,"p"),e._uU(1,"component-profile works!"),e.qZA(),e.YNc(2,C,2,1,"p",0),e.YNc(3,N,5,1,"li",1),e.TgZ(4,"form",2,3),e.NdJ("ngSubmit",function(){return n.aggiungiNota()}),e.TgZ(6,"input",4,5),e.NdJ("ngModelChange",function(g){return n.note=g}),e.qZA(),e.TgZ(8,"button",6),e._uU(9,"Invia"),e.qZA(),e.qZA()),2&o){const l=e.MAs(5);e.xp6(2),e.Q6J("ngIf",null!=n.logged),e.xp6(1),e.Q6J("ngForOf",n.listaNote),e.xp6(3),e.Q6J("ngModel",n.note),e.xp6(2),e.Q6J("disabled",!l.valid)}},directives:[c.O5,c.sg,s._Y,s.JL,s.F,s.Fj,s.Q7,s.JJ,s.On],styles:[""]}),t})();const v=[{path:"",component:d},{path:"cancellaNota/:idNota",component:d}];let m=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[a.Bz.forChild(v)],a.Bz]}),t})(),y=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[{provide:t}],imports:[[c.ez,m,c.ez,m,s.u5]]}),t})()}}]);